# ðŸ“Š Push_Swap 125/100

Push_Swap is a project from the 42 Cursus that challenges you to sort a stack using a limited set of operations. The goal is to sort the stack in as few moves as possible by implementing efficient strategies using only push, swap, rotate, and reverse rotate operations.

---

## Features

- **Basic Stack Operations:**
  - **Push:** `push_a` / `push_b` move the top element from one stack to the other.
  - **Swap:** `swap_a` / `swap_b` / `swap_ab` swap the first two elements of a stack.
  - **Rotate:** `rotate_a` / `rotate_b` / `rotate_ab` shift the stack upward (first element becomes last).
  - **Reverse Rotate:** `r_rotate_a` / `r_rotate_b` / `r_rotate_ab` shift the stack downward (last element becomes first).

- **Sorting Strategies:**
  - **Small Stack Sorting:**  
    Specialized routines (`sort_3`, `sort_4`, `sort_5`) optimally sort stacks containing 2 to 5 elements.
  - **Chunk Sorting for Larger Stacks:**  
    For larger inputs, the algorithm normalizes the values (using a `mask` field) and divides the data into chunks. Elements are pushed to an auxiliary stack and later reassembled into a sorted main stack.

- **Input Validation & Error Handling:**
  - Checks for duplicates and validates numeric input.
  - Manages memory effectively to prevent leaks.

---

## Algorithm Explanation

The push_swap algorithm is designed in two phases:

1. **Small Stack Sorting (2 to 5 Elements):**  
   - **2 Elements:** A simple swap is performed if the order is incorrect.
   - **3 Elements:** Uses a combination of rotations, swaps, and reverse rotations to position the minimum and next minimum elements correctly.
   - **4 and 5 Elements:** The algorithm locates the smallest elements, moves it out to an auxiliary stack, sorts the remaining elements with the 3-element algorithm, and finally reinserts the smallest elements in its correct position.

2. **Larger Stack Sorting (More Than 5 Elements):**  
   - **Normalization:** Each element is assigned a mask representing its rank among the input numbers.
   - **Chunk Partitioning:** The normalized values are split into several chunks. Elements in each chunk are pushed to an auxiliary stack (stack_b) in an optimized manner.
   - **Reassembly:** Once partitioned, elements are strategically moved back into the main stack (stack_a) using optimal rotations, ensuring the final stack is sorted with minimal moves.

This dual approach allows the algorithm to efficiently handle both small and large datasets while minimizing the number of operations.

---

## Installation & Compilation

To compile the project, run:

```sh
make
```

This command compiles all the source files and generates the executable.

For cleaning up:

- `make clean` â€“ Removes object files.
- `make fclean` â€“ Removes object files and the final executable.
- `make re` â€“ Fully recompiles the project.

---

## Usage

Run the executable with a list of numbers as arguments:

```sh
./push_swap 3 2 5 1 4
```

If you provide a single string with space-separated numbers, the program will split it accordingly.

---

## Checker (Bonus)

To compile the bonus, run:

```sh
make bonus
```

- **Purpose:**  
  The Checker program is a bonus tool designed to verify that the operations generated by push_swap (or provided manually) correctly sort the stack.
  
- **How It Works:**
  - **Reading Operations:**  
    The checker reads a series of commands (such as "pa", "pb", "sa", "ra", etc.) from standard input.
  - **Execution:**  
    It applies each command to the stacks (stack_a and stack_b) and simulates the operations.
  - **Verification:**  
    After processing all commands, it checks whether the stack is sorted in ascending order.
  - **Output:**  
    If the stack is correctly sorted, the checker prints "OK". Otherwise, it prints "KO". In case of an invalid command, it prints "Error" and exits.

- **Usage:**  
  You can pipe the output of your push_swap program directly into Checker:
  ```sh
  ./push_swap 3 2 5 1 4 | ./checker 3 2 5 1 4
In this example, Checker receives the same list of numbers as arguments and then processes the operations provided by push_swap. This allows you to validate the correctness of the operations.

## License

This project is part of 42 School curriculum.